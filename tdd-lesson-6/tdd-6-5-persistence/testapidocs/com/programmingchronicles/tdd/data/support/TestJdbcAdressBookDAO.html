<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Sep 19 23:25:51 CEST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TestJdbcAdressBookDAO (TDD Exercise 6.5 1.0-SNAPSHOT Test API)</title>
<meta name="date" content="2013-09-19">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TestJdbcAdressBookDAO (TDD Exercise 6.5 1.0-SNAPSHOT Test API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestJdbcAdressBookDAO.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/programmingchronicles/tdd/data/support/IsContactEqual.html" title="class in com.programmingchronicles.tdd.data.support"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html" target="_top">Frames</a></li>
<li><a href="TestJdbcAdressBookDAO.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.programmingchronicles.tdd.data.support</div>
<h2 title="Class TestJdbcAdressBookDAO" class="title">Class TestJdbcAdressBookDAO</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.programmingchronicles.tdd.data.support.TestJdbcAdressBookDAO</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TestJdbcAdressBookDAO</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Test de una implementación AddressBookDao basada en JDBC.

 <p><b>Refactorización de <a href="../../../../../../apidocs/com/programmingchronicles/tdd/data/support/JdbcAddressBookDao.html?is-external=true" title="class or interface in com.programmingchronicles.tdd.data.support"><code>JdbcAddressBookDao</code></a>:</b></p>
 La refactorización ha extraído todo el código repetitivo de manipulación
 del objetos del JDBC y la responsabilidad del <i>close</i> de recursos en un
 <b>template</b> genérico <a href="../../../../../../apidocs/com/programmingchronicles/tdd/data/template/JdbcDaoTemplate.html?is-external=true" title="class or interface in com.programmingchronicles.tdd.data.template"><code>JdbcDaoTemplate</code></a>.</p>

 <p><b>Test Unitarios Aislados</b><br/>
 La refactorización permite que los test de <a href="../../../../../../apidocs/com/programmingchronicles/tdd/data/template/JdbcDaoTemplate.html?is-external=true" title="class or interface in com.programmingchronicles.tdd.data.template"><code>JdbcDaoTemplate</code></a>
 se centren completamente en las pruebas de uso y cierre de recursos JDBC, y
 ahora se puedan ejecutar como verdaderos test unitarios sin utilizar una
 base de datos (ni siquiera en memoria).</p>

 <p>Los DAOs ahora no son responsables de la obtención de los objetos JDBC y
 de la ejecución correcta del <i>close</i>.<br/>
 Además de disponer de unos tests más rigurosos que ya no es necesario repetir,
 podemos eliminar de los tests de los DAOs todo este tipo de comprobaciones.
 Ya no es necesario por ejemplo comprobar la ejecución del <i>close</i> de
 las conexiones.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Pedro Ballesteros <pedro@theprogrammingchronicles.com></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#TestJdbcAdressBookDAO()">TestJdbcAdressBookDAO</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#newSingleNonTransactionalDataSource(java.sql.Connection)">newSingleNonTransactionalDataSource</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</a>&nbsp;connection)</code>
<div class="block">Crea un stub del datasource que devuelve siempre un wrapper de la conexión
 entregada, que ignora las transacciones y el cierre de conexión, para que
 los tests puedan realizar el rollback de las modificaciones.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#setUp()">setUp</a></strong>()</code>
<div class="block">Antes de cada test se inicia la transacción.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#setUpClass()">setUpClass</a></strong>()</code>
<div class="block">Inicializaciones comunes para todos los test (Fixture de Clase).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#tearDown()">tearDown</a></strong>()</code>
<div class="block">Despues de cada test se realiza un rollback para asegurar la
 independencia entre los tests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#tearDownClass()">tearDownClass</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testAddAndGetFullContact()">testAddAndGetFullContact</a></strong>()</code>
<div class="block">Ejemplo de uso de un custom matcher para realizar la comparación
 de dos contactos.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testAddSimpleContact()">testAddSimpleContact</a></strong>()</code>
<div class="block">Añade un contacto simple y comprueba el resultado obteniendo
 todos los contactos.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testDeleteContact()">testDeleteContact</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testDeleteContactDeleted()">testDeleteContactDeleted</a></strong>()</code>
<div class="block">Eliminar un contacto que no existe.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testDeleteContactInvalidId()">testDeleteContactInvalidId</a></strong>()</code>
<div class="block">Eliminar un contacto con un id inválido.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testGetAll()">testGetAll</a></strong>()</code>
<div class="block">Ejemplo de uso de un custom matcher para realizar la comparación
 de dos contactos.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testGetAllEmpty()">testGetAllEmpty</a></strong>()</code>
<div class="block">Si la tabla está vacía se debe devolver una lista vacía.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testGetContactDeleted()">testGetContactDeleted</a></strong>()</code>
<div class="block">Si el contacto no existe se debe ignorar y devolver null.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testGetContactInvalidId()">testGetContactInvalidId</a></strong>()</code>
<div class="block">Si el contacto es inválido se entrega un id no admitido por la
 implementación, no se deben lanzar excepciones, se debe comportar
 igual que un contacto que no existente.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html#testIntegrationAddContact()">testIntegrationAddContact</a></strong>()</code>
<div class="block">Ejemplo de test de integración que no se apoya en los métodos del
 propios del DAO para realizar la validación.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TestJdbcAdressBookDAO()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TestJdbcAdressBookDAO</h4>
<pre>public&nbsp;TestJdbcAdressBookDAO()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setUpClass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUpClass</h4>
<pre>public static&nbsp;void&nbsp;setUpClass()
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Inicializaciones comunes para todos los test (Fixture de Clase).

 <p>
 <b>CUIDADO:</b><br/>
 Peligro de Violación del principio INDEPENDENT. Los tests tienen que
 seguir siendo independientes. El uso de atributos static o de clase
 puede interferir en esta independencia.</p>

 <p>
 En este caso la creación de las tablas, aunque sea en memoria
 es lenta, por lo que es mejor hacerlo una sola vez antes de iniciar
 los tests, y evitar la creación de las tablas en cada test.</p>

 <p>
 <b>Test de Integración</b><br/>
 Si se quisieran usar como test de integración contra la base de datos
 real, tan sólo habría que eliminar este código de creación de tablas.</p>

 <p>
 <b>IMPORTANTE</b><br/>
 No se require la creación del esquema completo de la base de datos, tan
 solo las tablas y campos que se necesitan para los tests de este DAO.</b></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="tearDownClass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tearDownClass</h4>
<pre>public static&nbsp;void&nbsp;tearDownClass()
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="newSingleNonTransactionalDataSource(java.sql.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSingleNonTransactionalDataSource</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;newSingleNonTransactionalDataSource(<a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</a>&nbsp;connection)
                                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Crea un stub del datasource que devuelve siempre un wrapper de la conexión
 entregada, que ignora las transacciones y el cierre de conexión, para que
 los tests puedan realizar el rollback de las modificaciones.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>connection</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/programmingchronicles/tdd/data/support/ConnectionWrapper.html" title="class in com.programmingchronicles.tdd.data.support"><code>ConnectionWrapper</code></a></dd></dl>
</li>
</ul>
<a name="setUp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUp</h4>
<pre>public&nbsp;void&nbsp;setUp()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Antes de cada test se inicia la transacción. Las tablas en la base
 de datos deben existir.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="tearDown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tearDown</h4>
<pre>public&nbsp;void&nbsp;tearDown()
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Despues de cada test se realiza un rollback para asegurar la
 independencia entre los tests.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testAddSimpleContact()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testAddSimpleContact</h4>
<pre>public&nbsp;void&nbsp;testAddSimpleContact()
                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Añade un contacto simple y comprueba el resultado obteniendo
 todos los contactos.

 <p> Esta implementación utiliza el método <a href="../../../../../../apidocs/com/programmingchronicles/tdd/data/support/JdbcAddressBookDao.html?is-external=true#getAll()" title="class or interface in com.programmingchronicles.tdd.data.support"><code>JdbcAddressBookDao.getAll()</code></a>
 del DAO para comprobar el estado de la base de datos.</p>

 <p> Existen argumentos en contra y a favor de este tipo de validaciones,
 ya que el usar métodos del Object Under Test para obtener los datos
 de la validación podría conducir a errores ocultos. Pero sería muy
 difícil que un error combinado del addContact y getAll resultara en
 un falso positivo.</p>

 <p> Si se necesitan test de integración con la base de datos rigurosos
 el resultado se debería comprobar leyendo la base de datos desde
 los tests sin utilizar el DAO.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testIntegrationAddContact()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testIntegrationAddContact</h4>
<pre>public&nbsp;void&nbsp;testIntegrationAddContact()
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a>,
                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></pre>
<div class="block">Ejemplo de test de integración que no se apoya en los métodos del
 propios del DAO para realizar la validación.

 <p> En este caso el test valida que realmente se guardan los datos en
 la base de datos, sin apoyarse en los propios métodos del DAO.</p>

 <p> Hacer este tipo de tests es muy pesado y requiere mucho más código. El
 utilizar el propio DAO para la lectura de la base de datos aligera
 los test, y no supone relajar tanto la rigurosidad de la comprobación.</p>

 <p>No obstante existen librerías especializadas que proporcionan facilidades
 para este tipo de validaciones. Para minimizar el código necesario para
 acceder a la base de datos, crear datos de test y validar con lecturas
 directas.</p>

 <p> Estas librerías también son útiles para test de integración de más alto
 nivel que necesitan acceder a la base de datos, y no es posible utilizar
 un DAO.</p>

 <p>
 <b>IMPORTANTE:</b><br/>
 Como se observa en el ejemplo, este tipo de test son muy laboriosos
 si no se cuenta con una librería de ayuda al testing de base de datos
 ya que el código del test es un reflejo práticamente fiel de la
 implementación que se necesitará en los métodos de lectura</b>.

 <p><b>Ej.</b> DbUnit o Sprint Test Utilities.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></code></dd></dl>
</li>
</ul>
<a name="testAddAndGetFullContact()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testAddAndGetFullContact</h4>
<pre>public&nbsp;void&nbsp;testAddAndGetFullContact()
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a>,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Ejemplo de uso de un custom matcher para realizar la comparación
 de dos contactos.

 <p>
 Aunque se podría hacer lo mismo implementando el método Contact#equals,
 de esta forma podemos hacer comparaciones no ligadas a la lógica, como
 por ejemplo ignorar el id en las comparaciones.</p>

 <p>
 <b>Ver:</b> <a href="../../../../../com/programmingchronicles/tdd/data/support/IsContactEqual.html" title="class in com.programmingchronicles.tdd.data.support"><code>IsContactEqual</code></a>.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testDeleteContact()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testDeleteContact</h4>
<pre>public&nbsp;void&nbsp;testDeleteContact()
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testGetAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testGetAll</h4>
<pre>public&nbsp;void&nbsp;testGetAll()
                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a>,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Ejemplo de uso de un custom matcher para realizar la comparación
 de dos contactos.

 <p>
 Aunque se podría hacer lo mismo implementando el método Contact#equals,
 de esta forma podemos hacer comparaciones no ligadas a la lógica, como
 por ejemplo ignorar el id en las comparaciones.</p>

 <p>
 En este ejemplo se ve su verdadera utilidad al ser combinado con
 matchers como <b>"hasItems"</b> que permiten validar el contenido de
 colecciones ignorando el orden de los elementos.</p>

 <p>
 <b>Ver:</b> <a href="../../../../../com/programmingchronicles/tdd/data/support/IsContactEqual.html" title="class in com.programmingchronicles.tdd.data.support"><code>IsContactEqual</code></a>.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testGetAllEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testGetAllEmpty</h4>
<pre>public&nbsp;void&nbsp;testGetAllEmpty()
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Si la tabla está vacía se debe devolver una lista vacía.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testGetContactDeleted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testGetContactDeleted</h4>
<pre>public&nbsp;void&nbsp;testGetContactDeleted()
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a>,
                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Si el contacto no existe se debe ignorar y devolver null.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testGetContactInvalidId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testGetContactInvalidId</h4>
<pre>public&nbsp;void&nbsp;testGetContactInvalidId()
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Si el contacto es inválido se entrega un id no admitido por la
 implementación, no se deben lanzar excepciones, se debe comportar
 igual que un contacto que no existente.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testDeleteContactDeleted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testDeleteContactDeleted</h4>
<pre>public&nbsp;void&nbsp;testDeleteContactDeleted()
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a>,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Eliminar un contacto que no existe.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="testDeleteContactInvalidId()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>testDeleteContactInvalidId</h4>
<pre>public&nbsp;void&nbsp;testDeleteContactInvalidId()
                                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a>,
                                       <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Eliminar un contacto con un id inválido.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestJdbcAdressBookDAO.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/programmingchronicles/tdd/data/support/IsContactEqual.html" title="class in com.programmingchronicles.tdd.data.support"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/programmingchronicles/tdd/data/support/TestJdbcAdressBookDAO.html" target="_top">Frames</a></li>
<li><a href="TestJdbcAdressBookDAO.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2013 <a href="http://theprogrammingchronicles.com/">The Programming Chronicles</a>. All rights reserved.</small></p>
</body>
</html>
