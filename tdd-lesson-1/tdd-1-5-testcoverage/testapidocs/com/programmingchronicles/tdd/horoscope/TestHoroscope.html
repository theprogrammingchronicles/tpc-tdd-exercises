<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Sep 19 23:22:01 CEST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TestHoroscope (TDD Exercise 1.5 1.0-SNAPSHOT Test API)</title>
<meta name="date" content="2013-09-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TestHoroscope (TDD Exercise 1.5 1.0-SNAPSHOT Test API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/programmingchronicles/tdd/horoscope/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestHoroscope.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/programmingchronicles/tdd/horoscope/TestSmartDateParser.html" title="class in com.programmingchronicles.tdd.horoscope"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/programmingchronicles/tdd/horoscope/TestHoroscope.html" target="_top">Frames</a></li>
<li><a href="TestHoroscope.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.programmingchronicles.tdd.horoscope</div>
<h2 title="Class TestHoroscope" class="title">Class TestHoroscope</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.programmingchronicles.tdd.horoscope.TestHoroscope</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TestHoroscope</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Test de la clase encargada de predecir los horoscopos.

 <p/>
 <b>COBERTURA:</b>
    <p>
    Aunque hemos conseguido cobertura completa en el código funcional, en
    un caso como este sería conveniente también probar los valores que hacen
    frontera entre condicionantes. </p>

    <p>
    Este ejemplo se ha desarrollo con TDD, los tests se han escrito
    incrementalmente conforme se necesitaban para construir el código
    funcional.</p>

    <p>
    En este caso posiblemente lo que ha pasado es que no hemos ideado desde
    el principio todos los tests que serían necesarios para validar completamente
    la funcionalidad, ya que los test que teniamos nos estaban dirigiendo bien
    los desarrollos, sería bueno repasar y ver si realmente sirve de algo probar
    los valores de frontera. </p>

 <b>BRANCH COVERAGE:</b>
    <p>
    Quitar uno de los tests para ver que es posible conseguir cobertura
    completa de lineas pero no de condicionales (con los informes de
    cobertura).</p>

 <b>ANTIPATRONES</b>
    <p>
    Aparte de los temas de cobertura de código, es muy importante fijarse
    en el hecho de que en la clase TestHoroscope, probamos UNICA
    y EXCLUSIVAMENTE la clase Horoscope. La clase SmartDateParser ya tiene
    sus propios tests y asumimos que funciona bien.</p>

    <p>
    Es un antipatron el convertir un test de una clase en un test de
    sus dependencias. Por ejemplo, probando en Horoscope con todos los
    formatos de fechas. Al final el test de una clase acaba
    convirtiendose en test de las dependencias. Esto hace los tests
    más complejos a la vez que redundantes. Los tests de formato deben
    estar en la clase TestSmartDateParser.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Pedro Ballesteros <pedro@theprogrammingchronicles.com></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../apidocs/com/programmingchronicles/tdd/horoscope/Horoscope.html?is-external=true" title="class or interface in com.programmingchronicles.tdd.horoscope">Horoscope</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#horoscope">horoscope</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#TestHoroscope()">TestHoroscope</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckChristmasAfterNewYear()">testLuckChristmasAfterNewYear</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckChristmasBeforeNewYear()">testLuckChristmasBeforeNewYear</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckOtherDays()">testLuckOtherDays</a></strong>()</code>
<div class="block">Desactivar el test para observar la perdida de cobertura.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckSummerSunday()">testLuckSummerSunday</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckSummerWorkingDay()">testLuckSummerWorkingDay</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckWinterAfterNewYear()">testLuckWinterAfterNewYear</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckWinterBeforeNewYear()">testLuckWinterBeforeNewYear</a></strong>()</code>
<div class="block">Los meses se inicializan en el cambio de año.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="horoscope">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>horoscope</h4>
<pre><a href="../../../../../apidocs/com/programmingchronicles/tdd/horoscope/Horoscope.html?is-external=true" title="class or interface in com.programmingchronicles.tdd.horoscope">Horoscope</a> horoscope</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TestHoroscope()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TestHoroscope</h4>
<pre>public&nbsp;TestHoroscope()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="testLuckSummerSunday()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testLuckSummerSunday</h4>
<pre>public&nbsp;void&nbsp;testLuckSummerSunday()</pre>
</li>
</ul>
<a name="testLuckSummerWorkingDay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testLuckSummerWorkingDay</h4>
<pre>public&nbsp;void&nbsp;testLuckSummerWorkingDay()</pre>
</li>
</ul>
<a name="testLuckChristmasBeforeNewYear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testLuckChristmasBeforeNewYear</h4>
<pre>public&nbsp;void&nbsp;testLuckChristmasBeforeNewYear()</pre>
</li>
</ul>
<a name="testLuckChristmasAfterNewYear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testLuckChristmasAfterNewYear</h4>
<pre>public&nbsp;void&nbsp;testLuckChristmasAfterNewYear()</pre>
</li>
</ul>
<a name="testLuckWinterBeforeNewYear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testLuckWinterBeforeNewYear</h4>
<pre>public&nbsp;void&nbsp;testLuckWinterBeforeNewYear()</pre>
<div class="block">Los meses se inicializan en el cambio de año. Para la navidad hay que
 probar los dos años.

 <p>
 Ver antes la desactivación de <a href="../../../../com/programmingchronicles/tdd/horoscope/TestHoroscope.html#testLuckOtherDays()"><code>testLuckOtherDays()</code></a></p>

 <p>
 En este caso, si desactivamos este test vemos que se pierde
 cobertura en la evaluación de expresiones de un condicional.</p>

 <p>
 En este caso la cobertura se pierde en una expresión que es
 una llamada a un método privado, con lo causamos también
 una perdida de cobertura en las lineas ejecutadas.</p>

 <code> if((month==12 && day >= 25) || isJanuaryChristmas(day, month)) </code></div>
</li>
</ul>
<a name="testLuckWinterAfterNewYear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testLuckWinterAfterNewYear</h4>
<pre>public&nbsp;void&nbsp;testLuckWinterAfterNewYear()</pre>
</li>
</ul>
<a name="testLuckOtherDays()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>testLuckOtherDays</h4>
<pre>public&nbsp;void&nbsp;testLuckOtherDays()</pre>
<div class="block">Desactivar el test para observar la perdida de cobertura.

 <p>
 Si se desactiva este test, a parte de perder cobertura de líneas también
 se pierde cobertura en la evaluación de expresiones en condicionales
 (branch coverage), es decir una condición de un if que no se ha evaluado.</p>

  <code>if(month == 12 || month <= 2)</code>

  <p>
  La expresión "month == 12" si ha sido evaluada por otros
  test, pero la expresión "month &lt;= 2" no ha sido evaluada.</p>

  <p>
  Recordemos que en un OR la segunda expresión no se evalua si
  la primera es cierta.</p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/programmingchronicles/tdd/horoscope/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TestHoroscope.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/programmingchronicles/tdd/horoscope/TestSmartDateParser.html" title="class in com.programmingchronicles.tdd.horoscope"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/programmingchronicles/tdd/horoscope/TestHoroscope.html" target="_top">Frames</a></li>
<li><a href="TestHoroscope.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010&#x2013;2013 <a href="http://theprogrammingchronicles.com/">The Programming Chronicles</a>. All rights reserved.</small></p>
</body>
</html>
